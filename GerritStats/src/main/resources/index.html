<!DOCTYPE html>
<meta charset="utf-8">
<body>
<script src="res/node_modules/css-element-queries/css-element-queries/src/ResizeSensor.js"></script>
<script src="res/node_modules/css-element-queries/css-element-queries/src/ElementQueries.js"></script>
<script src="res/node_modules/d3/d3.min.js"></script>
<script src="res/node_modules/jquery/dist/jquery.min.js"></script>
<script src="res/node_modules/tablesorter/dist/js/jquery.tablesorter.min.js"></script>
<script src="res/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="res/node_modules/moment/min/moment.min.js"></script>
<script src="res/node_modules/numeral/min/numeral.min.js"></script>

<script src="res/gerritstats.js"></script>
<script src="res/proximitygraph.js"></script>
<script src="res/selectedusers.js"></script>
<script src="res/tablecellhighlighter.js"></script>
<script src="data/ids.js"></script>
<script src="data/datasetOverview.js"></script>
<script src="data/overview.js"></script>
<script src="res/index.js"></script>

<head>
    <link type="text/css" rel="stylesheet" media="screen" href="res/node_modules/bootstrap/dist/css/bootstrap.css" />
    <link type="text/css" rel="stylesheet" media="screen" href="res/style.css" />
    <title>GerritStats</title>
</head>
<header>
    <table class="filterBox">
        <tr>
            <th><img src="res/img/ic_branches.png">Branches:</th>
            <td class="filterBoxValue" id="datasetOverviewBranchList"></td>
        </tr>
        <tr>
            <th><span class="glyphicon glyphicon-calendar white"></span>From:</th>
            <td class="filterBoxValue" id="datasetOverviewFromDate"></td>
        </tr>
        <tr>
            <th><span class="glyphicon glyphicon-calendar white"></span>To:</th>
            <td class="filterBoxValue" id="datasetOverviewToDate"></td>
        </tr>
        <tr>
            <th><span class="glyphicon glyphicon-user white"></span>Users in analysis:</th>
            <td class="filterBoxValue" id="datasetOverviewIdentityCount"></td>
        </tr>
    </table>

    <h1>Gerrit Statistics</h1>
    <div class="subtitleH1">for <span id="subtitleDataSetName"></span></div>
</header>
<nav>
    <div class="container-fluid">
        <ul id="navBar" class="nav navbar-nav">
            <li role="presentation" class="active" data-type='users'>Users</li>
            <li role="presentation" data-type='connections'>Connections</li>
        </ul>
    </div>
</nav>

<content id="content">

<div id="oldGerritVersionAlert" class="alert alert-warning alert-dismissible" style="display:none" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <strong>Old Gerrit version warning</strong>: Some or all of this data has been generated with data from an old Gerrit version (<span id="gerritOldVersionField"></span>). Versions prior to 2.9 do not provide enough information on who was added as a reviewer, so much of the data will be incorrect. Update Gerrit to get better statistics!
</div>
<div id="unknownGerritVersionAlert" class="alert alert-warning alert-dismissible" style="display:none" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <strong>Unknown Gerrit version warning</strong>: Some or all of this data has been generated with data from an unknown Gerrit version. Some data is not included in the sources. Rerun GerritDownloader and GerritStats to get rid of this message.
</div>

<table id="identities" class="table table-striped">
    <thead>
        <th id="checkboxColumn"><input name='selectAll' type='checkbox' checked='true' onclick='onSelectAllCheckboxClicked(this)' /></th>
        <th id="nameColumn">Name</th>
        <th title="Number of +2 reviews given by this user." class="dataField">+2<br>given</th>
        <th title="Number of +1 reviews given by this user." class="dataField">+1<br>given</th>
        <th title="Number of -1 reviews given by this user." class="dataField">-1<br>given</th>
        <th title="Number of -2 reviews given by this user." class="dataField">-2<br>given</th>
        <th title="Number of review comments written to other people's commits by this user." class="dataField">Comments<br>written</th>
        <th title="Number of review comments received by this user." class="dataField">Comments<br>received</th>
        <th title="Number of commits made by this user." class="dataField">Commits</th>
        <th title="The ratio of comments received by user per commit." class="dataField">Comments<br>/ commit</th>
        <th title="The ratio of comments written by this user per a review request." class="dataField">Comments<br>/ review<br>requests</th>
        <th title="Number of times this user was added as a reviewer." class="dataField">Added as<br>reviewer</th>
        <th title="Number of times the user merged a change after self-reviewing it, without having any reviews in any patch set from other users." class="dataField">Self-reviews</th>
        <th title="Average time the user's commits spent in review." class="dataField">Average time<br>in review</th>
    </thead>
    <tbody id="overviewTableBody">
    </tbody>
</table>

<!-- This element is positioned dynamically over the table -->
<div id="proximityGraph" class="proximityGraph" style="display:none">
</div>
</content>
<footer>
    <div class="footerContent">
        <div class="footerLeft">
            <a href="https://github.com/holmari/gerritstats">Github</a>
        </div>
        <div class="footerRight">
            Generated on <span id="generatedTimestamp">&dash;</span>
        </div>
        <div class="clearFloat"></div>
    </div>
</footer>
</body>
